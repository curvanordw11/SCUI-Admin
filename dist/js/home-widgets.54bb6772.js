"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[5642,2674,4281,1711,390,229],{7038:function(t,i,s){s.r(i),s.d(i,{default:function(){return J}});s(7658);var e=s(6252),l=s(3577);const a=t=>((0,e.dD)("data-v-3cc37176"),t=t(),(0,e.Cn)(),t),o={class:"widgets-content"},n={class:"widgets-top"},d=a((()=>(0,e._)("div",{class:"widgets-top-title"}," 控制台 ",-1))),u={class:"widgets-top-actions"},c={class:"widgets",ref:"widgets"},r={class:"widgets-wrapper"},m={key:0,class:"no-widgets"},g={class:"widgets-item"},p={key:0,class:"customize-overlay"},f={key:0,class:"widgets-aside"},w={class:"widgets-aside-title"},_={class:"selectLayout"},h=a((()=>(0,e._)("span",null,null,-1))),y=a((()=>(0,e._)("span",null,null,-1))),v=a((()=>(0,e._)("span",null,null,-1))),k=a((()=>(0,e._)("span",null,null,-1))),L=a((()=>(0,e._)("span",null,null,-1))),C=a((()=>(0,e._)("span",null,null,-1))),W=a((()=>(0,e._)("span",null,null,-1))),z=a((()=>(0,e._)("span",null,null,-1))),D=a((()=>(0,e._)("span",null,null,-1))),O={class:"widgets-list"},b={key:0,class:"widgets-list-nodata"},$={class:"item-logo"},j={class:"item-info"},U={class:"item-actions"};function G(t,i,s,a,G,T){const N=(0,e.up)("el-button"),S=(0,e.up)("el-empty"),q=(0,e.up)("el-icon"),x=(0,e.up)("draggable"),I=(0,e.up)("el-col"),J=(0,e.up)("el-row"),P=(0,e.up)("el-icon-circle-plus-filled"),V=(0,e.up)("el-icon-close"),A=(0,e.up)("el-header"),H=(0,e.up)("el-main"),R=(0,e.up)("el-footer"),B=(0,e.up)("el-container");return(0,e.wg)(),(0,e.iD)("div",{class:(0,l.C_)(["widgets-home",G.customizing?"customizing":""]),ref:"main"},[(0,e._)("div",o,[(0,e._)("div",n,[d,(0,e._)("div",u,[G.customizing?((0,e.wg)(),(0,e.j4)(N,{key:0,type:"primary",icon:"el-icon-check",round:"",onClick:T.save},{default:(0,e.w5)((()=>[(0,e.Uk)("完成")])),_:1},8,["onClick"])):((0,e.wg)(),(0,e.j4)(N,{key:1,type:"primary",icon:"el-icon-edit",round:"",onClick:T.custom},{default:(0,e.w5)((()=>[(0,e.Uk)("自定义")])),_:1},8,["onClick"]))])]),(0,e._)("div",c,[(0,e._)("div",r,[T.nowCompsList.length<=0?((0,e.wg)(),(0,e.iD)("div",m,[(0,e.Wm)(S,{image:"img/no-widgets.svg",description:"没有部件啦","image-size":280})])):(0,e.kq)("",!0),(0,e.Wm)(J,{gutter:15},{default:(0,e.w5)((()=>[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(G.grid.layout,((t,i)=>((0,e.wg)(),(0,e.j4)(I,{key:i,md:t,xs:24},{default:(0,e.w5)((()=>[(0,e.Wm)(x,{modelValue:G.grid.copmsList[i],"onUpdate:modelValue":t=>G.grid.copmsList[i]=t,animation:"200",handle:".customize-overlay",group:"people","item-key":"com",dragClass:"aaaaa","force-fallback":"",fallbackOnBody:"",class:"draggable-box"},{item:(0,e.w5)((({element:t})=>[(0,e._)("div",g,[((0,e.wg)(),(0,e.j4)((0,e.LL)(G.allComps[t]))),G.customizing?((0,e.wg)(),(0,e.iD)("div",p,[(0,e.Wm)(N,{class:"close",type:"danger",plain:"",icon:"el-icon-close",size:"small",onClick:i=>T.remove(t)},null,8,["onClick"]),(0,e._)("label",null,[(0,e.Wm)(q,null,{default:(0,e.w5)((()=>[((0,e.wg)(),(0,e.j4)((0,e.LL)(G.allComps[t].icon)))])),_:2},1024),(0,e.Uk)((0,l.zw)(G.allComps[t].title),1)])])):(0,e.kq)("",!0)])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["md"])))),128))])),_:1})])],512)]),G.customizing?((0,e.wg)(),(0,e.iD)("div",f,[(0,e.Wm)(B,null,{default:(0,e.w5)((()=>[(0,e.Wm)(A,null,{default:(0,e.w5)((()=>[(0,e._)("div",w,[(0,e.Wm)(q,null,{default:(0,e.w5)((()=>[(0,e.Wm)(P)])),_:1}),(0,e.Uk)("添加部件")]),(0,e._)("div",{class:"widgets-aside-close",onClick:i[0]||(i[0]=t=>T.close())},[(0,e.Wm)(q,null,{default:(0,e.w5)((()=>[(0,e.Wm)(V)])),_:1})])])),_:1}),(0,e.Wm)(A,{style:{height:"auto"}},{default:(0,e.w5)((()=>[(0,e._)("div",_,[(0,e._)("div",{class:(0,l.C_)(["selectLayout-item item01",{active:"12,6,6"==G.grid.layout.join(",")}]),onClick:i[1]||(i[1]=t=>T.setLayout([12,6,6]))},[(0,e.Wm)(J,{gutter:2},{default:(0,e.w5)((()=>[(0,e.Wm)(I,{span:12},{default:(0,e.w5)((()=>[h])),_:1}),(0,e.Wm)(I,{span:6},{default:(0,e.w5)((()=>[y])),_:1}),(0,e.Wm)(I,{span:6},{default:(0,e.w5)((()=>[v])),_:1})])),_:1})],2),(0,e._)("div",{class:(0,l.C_)(["selectLayout-item item02",{active:"24,16,8"==G.grid.layout.join(",")}]),onClick:i[2]||(i[2]=t=>T.setLayout([24,16,8]))},[(0,e.Wm)(J,{gutter:2},{default:(0,e.w5)((()=>[(0,e.Wm)(I,{span:24},{default:(0,e.w5)((()=>[k])),_:1}),(0,e.Wm)(I,{span:16},{default:(0,e.w5)((()=>[L])),_:1}),(0,e.Wm)(I,{span:8},{default:(0,e.w5)((()=>[C])),_:1})])),_:1})],2),(0,e._)("div",{class:(0,l.C_)(["selectLayout-item item03",{active:"24"==G.grid.layout.join(",")}]),onClick:i[3]||(i[3]=t=>T.setLayout([24]))},[(0,e.Wm)(J,{gutter:2},{default:(0,e.w5)((()=>[(0,e.Wm)(I,{span:24},{default:(0,e.w5)((()=>[W])),_:1}),(0,e.Wm)(I,{span:24},{default:(0,e.w5)((()=>[z])),_:1}),(0,e.Wm)(I,{span:24},{default:(0,e.w5)((()=>[D])),_:1})])),_:1})],2)])])),_:1}),(0,e.Wm)(H,{class:"nopadding"},{default:(0,e.w5)((()=>[(0,e._)("div",O,[T.myCompsList.length<=0?((0,e.wg)(),(0,e.iD)("div",b,[(0,e.Wm)(S,{description:"没有部件啦","image-size":60})])):(0,e.kq)("",!0),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(T.myCompsList,(t=>((0,e.wg)(),(0,e.iD)("div",{key:t.title,class:"widgets-list-item"},[(0,e._)("div",$,[(0,e.Wm)(q,null,{default:(0,e.w5)((()=>[((0,e.wg)(),(0,e.j4)((0,e.LL)(t.icon)))])),_:2},1024)]),(0,e._)("div",j,[(0,e._)("h2",null,(0,l.zw)(t.title),1),(0,e._)("p",null,(0,l.zw)(t.description),1)]),(0,e._)("div",U,[(0,e.Wm)(N,{type:"primary",icon:"el-icon-plus",size:"small",onClick:i=>T.push(t)},null,8,["onClick"])])])))),128))])])),_:1}),(0,e.Wm)(R,{style:{height:"51px"}},{default:(0,e.w5)((()=>[(0,e.Wm)(N,{size:"small",onClick:i[4]||(i[4]=t=>T.backDefaul())},{default:(0,e.w5)((()=>[(0,e.Uk)("恢复默认")])),_:1})])),_:1})])),_:1})])):(0,e.kq)("",!0)],2)}var T=s(9980),N=s.n(T),S=s(2856),q={components:{draggable:N()},data(){return{customizing:!1,allComps:S["default"],selectLayout:[],defaultGrid:this.$CONFIG.DEFAULT_GRID,grid:[]}},created(){this.grid=this.$TOOL.data.get("grid")||JSON.parse(JSON.stringify(this.defaultGrid))},mounted(){this.$emit("on-mounted")},computed:{allCompsList(){var t=[];for(var i in this.allComps)t.push({key:i,title:S["default"][i].title,icon:S["default"][i].icon,description:S["default"][i].description});var s=this.grid.copmsList.reduce((function(t,i){return t.concat(i)}));for(let e of t){const t=s.find((t=>t===e.key));t&&(e.disabled=!0)}return t},myCompsList(){var t=this.$TOOL.data.get("DASHBOARDGRID");return this.allCompsList.filter((i=>!i.disabled&&t.includes(i.key)))},nowCompsList(){return this.grid.copmsList.reduce((function(t,i){return t.concat(i)}))}},methods:{custom(){this.customizing=!0;const t=this.$refs.widgets.offsetWidth;this.$nextTick((()=>{const i=this.$refs.widgets.offsetWidth/t;this.$refs.widgets.style.setProperty("transform",`scale(${i})`)}))},setLayout(t){this.grid.layout=t,"24"==t.join(",")&&(this.grid.copmsList[0]=[...this.grid.copmsList[0],...this.grid.copmsList[1],...this.grid.copmsList[2]],this.grid.copmsList[1]=[],this.grid.copmsList[2]=[])},push(t){let i=this.grid.copmsList[0];i.push(t.key)},remove(t){var i=this.grid.copmsList;i.forEach(((s,e)=>{var l=s.filter((i=>i!=t));i[e]=l}))},save(){this.customizing=!1,this.$refs.widgets.style.removeProperty("transform"),this.$TOOL.data.set("grid",this.grid)},backDefaul(){this.customizing=!1,this.$refs.widgets.style.removeProperty("transform"),this.grid=JSON.parse(JSON.stringify(this.defaultGrid)),this.$TOOL.data.remove("grid")},close(){this.customizing=!1,this.$refs.widgets.style.removeProperty("transform")}}},x=s(3744);const I=(0,x.Z)(q,[["render",G],["__scopeId","data-v-3cc37176"]]);var J=I}}]);